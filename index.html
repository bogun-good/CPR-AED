<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹¬íì†Œìƒìˆ (CPR) í€´ì¦ˆ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        /* ë¼ë””ì˜¤ ë²„íŠ¼ ì„ íƒ ì‹œ ë¼ë²¨ ìŠ¤íƒ€ì¼ ë³€ê²½ */
        input[type="radio"]:checked + label {
            background-color: #e0f2fe; /* light-blue-100 */
            border-color: #38bdf8; /* sky-500 */
            font-weight: 700;
        }
        .correct-answer {
            background-color: #dcfce7; /* green-100 */
            border-left: 4px solid #22c55e; /* green-600 */
        }
        .incorrect-answer {
            background-color: #fee2e2; /* red-100 */
            border-left: 4px solid #ef4444; /* red-500 */
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-4xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-sky-700">ì‹¬íì†Œìƒìˆ (CPR) í€´ì¦ˆ</h1>
            <p class="mt-2 text-slate-600"> í•™ìŠµí•œ ì‘ê¸‰ì²˜ì¹˜ ë‚´ìš©ì„ í™•ì¸í•´ë³´ì„¸ìš”.</p>
            <div id="heart-container" class="mt-4 text-3xl"></div> </header>

        <div id="quiz-container" class="space-y-6">
        </div>

        <div id="quiz-navigation" class="mt-8 text-center flex justify-center items-center space-x-4">
            <button id="check-answer-btn" class="bg-sky-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-sky-700 transition-colors duration-300">ì •ë‹µ í™•ì¸</button>
            <button id="next-question-btn" class="bg-blue-500 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-blue-600 transition-colors duration-300 hidden">ë‹¤ìŒ</button>
            <button id="show-results-btn" class="bg-green-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-green-700 transition-colors duration-300 hidden">ê²°ê³¼ í™•ì¸</button>
            <button id="retry-btn" class="bg-gray-400 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-gray-500 transition-colors duration-300 hidden">ë‹¤ì‹œ í’€ê¸°</button>
        </div>
        
        <div id="answer-feedback" class="mt-6 text-center text-xl font-bold"></div>
        <div id="results-container" class="mt-8 text-center text-2xl font-bold"></div>
    </div>

    <script>
        const quizData = [
            {
                question: "1. ê°€ìŠ´ì••ë°•ì„ í•  ë•Œ ì ì ˆí•œ ê¹Šì´ëŠ”?",
                options: ["ì•½ 1cm", "ì•½ 3cm", "ì•½ 5cm", "ì•½ 10cm"],
                answer: "ì•½ 5cm"
            },
            {
                question: "2. ì‹¬ì •ì§€ë¡œ ì“°ëŸ¬ì§„ ì¹œêµ¬ë¥¼ ë°œê²¬í–ˆì„ ë•Œ ê°€ì¥ ë¨¼ì € í•´ì•¼ í•  ì¼ì€ ë¬´ì—‡ì¸ê°€ìš”?",
                options: ["ì¸ê³µí˜¸í¡ ì‹œì‘", "119ì— ì „í™”", "ì˜ì‹ ë° í˜¸í¡ í™•ì¸", "ê°€ìŠ´ì••ë°• ì‹œì‘"],
                answer: "ì˜ì‹ ë° í˜¸í¡ í™•ì¸"
            },
            {
                question: "3. ì‹¬ì •ì§€ í™˜ìê°€ ì“°ëŸ¬ì§„ í›„ ëª‡ ë¶„ ì•ˆì— ì‹¬íì†Œìƒìˆ ì„ ì‹œì‘í•´ì•¼ ìƒëª…ì„ ì‚´ë¦´ ìˆ˜ ìˆëŠ”ê°€?",
                options: ["4ë¶„", "6ë¶„", "10ë¶„", "20ë¶„"],
                answer: "4ë¶„"
            },
            {
                question: "4. ê°€ìŠ´ì••ë°•ì˜ ì†ë„ë¡œ ì ì ˆí•œ ê²ƒì€?",
                options: ["ë¶„ë‹¹ 60íšŒ", "ë¶„ë‹¹ 100-120íšŒ", "ë¶„ë‹¹ 140-160íšŒ", "ë¶„ë‹¹ 180íšŒ ì´ìƒ"],
                answer: "ë¶„ë‹¹ 100-120íšŒ"
            },
            {
                question: "5. ì‹¬ì •ì§€ í™˜ìì˜ ê°€ìŠ´ì••ë°•ì€ ì–´ëŠ ë¶€ìœ„ì— í•´ì•¼ í•˜ë‚˜ìš”?",
                options: ["ì™¼ìª½ ê°€ìŠ´", "ì˜¤ë¥¸ìª½ ê°€ìŠ´", "ê°€ìŠ´ë¼ˆ(í‰ê³¨) ì•„ë˜ìª½ 1/2ì§€ì ", "ë³µë¶€ ì¤‘ì‹¬"],
                answer: "ê°€ìŠ´ë¼ˆ(í‰ê³¨) ì•„ë˜ìª½ 1/2ì§€ì "
            },
            {
                question: "6. ì“°ëŸ¬ì§„ í™˜ìì˜ ì˜ì‹ê³¼ í˜¸í¡ì´ ì—†ëŠ” ê²ƒì„ í™•ì¸ í•œ ë‹¤ìŒ í•´ì•¼ í•  ì¼ì€?",
                options: ["ì¸ê³µí˜¸í¡ ì‹œì‘", "ì£¼ë³€ì— ì‚¬ëŒì´ ìˆë‹¤ë©´ 119ì— ì „í™”ì„ ìš”ì²­", "ìë™ì‹¬ì¥ì¶©ê²©ê¸°(AED)ë¥¼ ê°€ì ¸ì˜¨ë‹¤", "ê°€ìŠ´ì••ë°• ì‹œì‘"],
                answer: "ì£¼ë³€ì— ì‚¬ëŒì´ ìˆë‹¤ë©´ 119ì— ì „í™”ì„ ìš”ì²­"
            },
            {
                question: "7. ì‹¬íì†Œìƒìˆ  ì¤‘ ë©ˆì¶”ì§€ ë§ê³  ê³„ì†í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ”?",
                options: ["í™˜ìê°€ ê°‘ìê¸° ì¼ì–´ë‚  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ", "ì••ë°•ì„ ë©ˆì¶”ë©´ ë‡Œì— ì‚°ì†Œê°€ ë” ì´ìƒ ì „ë‹¬ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì—", "ì‹œê°„ì´ ì•„ê¹Œì›Œì„œ", "ì˜ë£Œì§„ì´ ì˜¤ê¸° ì „ì— ëë‚´ì•¼ í•˜ë‹ˆê¹Œ"],
                answer: "ì••ë°•ì„ ë©ˆì¶”ë©´ ë‡Œì— ì‚°ì†Œê°€ ë” ì´ìƒ ì „ë‹¬ë˜ì§€ ì•Šê¸° ë•Œë¬¸ì—"
            },
            {
                question: "8. 119ì— ì‹ ê³ í•œ í›„, ìë™ì‹¬ì¥ì¶©ê²©ê¸°(AED)ê°€ ê°€ê¹Œì´ì— ìˆë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?",
                options: ["ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤", "ë°”ë¡œ ì‹¬íì†Œìƒìˆ (CPR)ì„ ë©ˆì¶”ê³  ìë™ì‹¬ì¥ì¶©ê²©ê¸°(AED)ë¥¼ ê°€ì ¸ì˜¨ë‹¤", "ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ê°€ì ¸ì˜¤ê²Œ í•˜ê³  ì‹¬íì†Œìƒìˆ (CPR)ì€ ê³„ì†í•œë‹¤", "ì‹¬íì†Œìƒìˆ (CPR)ì„ í•˜ì§€ ì•Šê³  ìë™ì‹¬ì¥ì¶©ê²©ê¸°(AED)ë§Œ ì‚¬ìš©í•œë‹¤"],
                answer: "ë‹¤ë¥¸ ì‚¬ëŒì—ê²Œ ê°€ì ¸ì˜¤ê²Œ í•˜ê³  ì‹¬íì†Œìƒìˆ (CPR)ì€ ê³„ì†í•œë‹¤"
            },
            {
                question: "9. êµ¬ì¡°ê°€ í˜¼ì ìˆì„ ë•ŒëŠ” ì‹¬íì†Œìƒìˆ (CPR)ì„ í•˜ëŠ” ìˆœì„œëŠ”?",
                options: ["ì¸ê³µí˜¸í¡ â†’ 119 ì‹ ê³  â†’ ì••ë°•", "ë°”ë¡œ ì§‘ìœ¼ë¡œ ë°ë ¤ê°„ë‹¤", "ì˜ì‹ ë° í˜¸í¡ í™•ì¸ â†’ 119 ì‹ ê³  â†’ ê°€ìŠ´ì••ë°• ì‹œì‘", "ì˜† ì‚¬ëŒ ë¶€ë¥´ê¸° â†’ ë¬¼ ë§ˆì‹œê²Œ í•˜ê¸°"],
                answer: "ì˜ì‹ ë° í˜¸í¡ í™•ì¸ â†’ 119 ì‹ ê³  â†’ ê°€ìŠ´ì••ë°• ì‹œì‘"
            },
            {
                question: "10. ê°€ìŠ´ ì••ë°•ì„ í•  ë•Œ, ì† ëª¨ì–‘ì€ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?",
                options: ["í•œ ì†ìœ¼ë¡œë§Œ ê°€ë³ê²Œ ëˆ„ë¥¸ë‹¤", "ë‘ ì†ì„ ê¹ì§€ë¼ê³  ì†ë°”ë‹¥ ë’¤ê¿ˆì¹˜ë¡œ ìˆ˜ì§ìœ¼ë¡œ ëˆ„ë¥¸ë‹¤", "ì†ê°€ë½ìœ¼ë¡œ ëˆ„ë¥¸ë‹¤", "ì£¼ë¨¹ì„ ì¥ê³  ëˆ„ë¥¸ë‹¤"],
                answer: "ë‘ ì†ì„ ê¹ì§€ë¼ê³  ì†ë°”ë‹¥ ë’¤ê¿ˆì¹˜ë¡œ ìˆ˜ì§ìœ¼ë¡œ ëˆ„ë¥¸ë‹¤"
            },
            {
                question: "11. ìë™ì‹¬ì¥ì¶©ê²©ê¸°(AED) ì‚¬ìš© ì‹œ ê°€ì¥ ë¨¼ì € í•´ì•¼ í•  ì¼ì€?",
                options: ["íŒ¨ë“œë¥¼ ë¶™ì´ê¸°", "ì „ì› ì¼œê¸°", "ì¶©ì „í•˜ê¸°", "ì‹¬ì¥ì— ì „ê¸° ì¶©ê²© ê°€í•˜ê¸°"],
                answer: "ì „ì› ì¼œê¸°"
            },
            {
                question: "12. ìë™ì‹¬ì¥ì¶©ê²©ê¸°(AED) íŒ¨ë“œëŠ” ì–´ë””ì— ë¶™ì´ë‚˜ìš”? (ì„±ì¸ ê¸°ì¤€)",
                options: ["ë‘ íŒ”", "ë³µë¶€ì™€ ê°€ìŠ´", "ì˜¤ë¥¸ìª½ ì‡„ê³¨ ì•„ë˜, ì™¼ìª½ ì˜†êµ¬ë¦¬ ì•„ë˜", "ëª©ê³¼ ê°€ìŠ´"],
                answer: "ì˜¤ë¥¸ìª½ ì‡„ê³¨ ì•„ë˜, ì™¼ìª½ ì˜†êµ¬ë¦¬ ì•„ë˜"
            },
            {
                question: "13. ìë™ì‹¬ì¥ì¶©ê²©ê¸°(AED)ê°€ 'ì „ê¸° ì¶©ê²© í•„ìš” ì—†ìŒ'ì´ë¼ê³  ë§í•˜ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ë‚˜ìš”?",
                options: ["ì‚¬ìš©ì„ ì¤‘ë‹¨í•˜ê³  ê¸°ë‹¤ë¦°ë‹¤", "ê°€ìŠ´ ì••ë°•ì„ ë‹¤ì‹œ ì‹œì‘í•œë‹¤", "ì „ì› ë„ê³  AEDë¥¼ ì œê±°í•œë‹¤", "ë‹¤ì‹œ ë¶„ì„ ë²„íŠ¼ì„ ëˆ„ë¥¸ë‹¤"],
                answer: "ê°€ìŠ´ ì••ë°•ì„ ë‹¤ì‹œ ì‹œì‘í•œë‹¤"
            },
            {
                question: "14. ìë™ì‹¬ì¥ì¶©ê²©ê¸°(AED) ì‘ë™ ì¤‘ â€œë¶„ì„ ì¤‘â€ ë©”ì‹œì§€ê°€ ë‚˜ì˜¤ë©´ í•´ì•¼ í•  í–‰ë™ì€?",
                options: ["ê³„ì† ê°€ìŠ´ì••ë°•ì„ í•œë‹¤", "í™˜ìì—ê²Œ ë§ì„ ê±´ë‹¤", "í™˜ì ëª¸ì— ì†ëŒ€ì§€ ì•ŠëŠ”ë‹¤", "ì „ì› ë²„íŠ¼ì„ ë‹¤ì‹œ ëˆ„ë¥¸ë‹¤"],
                answer: "í™˜ì ëª¸ì— ì†ëŒ€ì§€ ì•ŠëŠ”ë‹¤"
            },
            {
                question: "15. ìë™ì‹¬ì¥ì¶©ê²©ê¸°(AED)ì˜ ì£¼ìš” ê¸°ëŠ¥ì€ ë¬´ì—‡ì¸ê°€ìš”?",
                options: ["í˜¸í¡ ë³´ì¡°", "ì²´ì˜¨ ìœ ì§€", "ì‹¬ì¥ ë¦¬ë“¬ ë¶„ì„ ë° ì „ê¸° ì¶©ê²© ì œê³µ", "í˜ˆì•• ì¸¡ì •"],
                answer: "ì‹¬ì¥ ë¦¬ë“¬ ë¶„ì„ ë° ì „ê¸° ì¶©ê²© ì œê³µ"
            }
        ];

        const quizContainer = document.getElementById('quiz-container');
        const checkAnswerBtn = document.getElementById('check-answer-btn');
        const nextQuestionBtn = document.getElementById('next-question-btn');
        const showResultsBtn = document.getElementById('show-results-btn');
        const retryBtn = document.getElementById('retry-btn');
        const answerFeedback = document.getElementById('answer-feedback');
        const resultsContainer = document.getElementById('results-container');
        const heartContainer = document.getElementById('heart-container'); // starContainer ëŒ€ì‹  heartContainer ì‚¬ìš©

        let currentQuestionIndex = 0;
        let score = 0;

        function loadQuestion() {
            // ì´ì „ ë¬¸ì œì˜ í”¼ë“œë°±ê³¼ ê²°ê³¼ë¥¼ ì´ˆê¸°í™”
            answerFeedback.innerHTML = '';
            resultsContainer.innerHTML = '';

            // ë²„íŠ¼ ìƒíƒœ ì´ˆê¸°í™”
            checkAnswerBtn.classList.remove('hidden');
            nextQuestionBtn.classList.add('hidden');
            showResultsBtn.classList.add('hidden');
            retryBtn.classList.add('hidden');

            quizContainer.innerHTML = ''; // í€´ì¦ˆ ì»¨í…Œì´ë„ˆ ë¹„ìš°ê¸°

            if (currentQuestionIndex < quizData.length) {
                const currentQuestion = quizData[currentQuestionIndex];
                const options = currentQuestion.options.map((option, index) =>
                    `<div class="relative">
                        <input type="radio" name="question${currentQuestionIndex}" id="q${currentQuestionIndex}o${index}" value="${option}" class="absolute top-1/2 left-4 -translate-y-1/2 opacity-0">
                        <label for="q${currentQuestionIndex}o${index}" class="block w-full p-4 border-2 border-slate-300 rounded-lg cursor-pointer hover:bg-slate-100 hover:border-sky-300 transition-colors duration-200">
                            ${option}
                        </label>
                    </div>`
                ).join('');

                const questionElement = `
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200" id="question-card-${currentQuestionIndex}">
                        <div class="flex-grow w-full">
                            <p class="text-lg font-bold mb-4">${currentQuestion.question}</p>
                            <div class="space-y-3">${options}</div>
                        </div>
                    </div>
                `;
                quizContainer.innerHTML = questionElement;

                // ë¼ë””ì˜¤ ë²„íŠ¼ í™œì„±í™”
                const radioButtons = quizContainer.querySelectorAll(`input[name="question${currentQuestionIndex}"]`);
                radioButtons.forEach(radio => {
                    radio.disabled = false;
                    // ì´ì „ ìŠ¤íƒ€ì¼ ì œê±°
                    radio.nextElementSibling.classList.remove('correct-answer', 'incorrect-answer');
                    // ì´ì „ì— ì¶”ê°€ëœ (ì •ë‹µ) í…ìŠ¤íŠ¸ ì œê±°
                    const existingCorrectText = radio.nextElementSibling.querySelector('.correct-text');
                    if (existingCorrectText) {
                        existingCorrectText.remove();
                    }
                });
            } else {
                // ëª¨ë“  ë¬¸ì œë¥¼ ë‹¤ í’€ì—ˆì„ ê²½ìš° ìµœì¢… ê²°ê³¼ í‘œì‹œ
                showFinalResults();
            }
        }

        function checkAnswer() {
            const currentQuestion = quizData[currentQuestionIndex];
            const selectedOption = document.querySelector(`input[name="question${currentQuestionIndex}"]:checked`);
            const radioButtons = quizContainer.querySelectorAll(`input[name="question${currentQuestionIndex}"]`);

            // ëª¨ë“  ë¼ë””ì˜¤ ë²„íŠ¼ ë¹„í™œì„±í™”
            radioButtons.forEach(radio => {
                radio.disabled = true;
            });

            if (selectedOption) {
                const selectedLabel = selectedOption.nextElementSibling;
                if (selectedOption.value === currentQuestion.answer) {
                    score++;
                    selectedLabel.classList.add('correct-answer');
                    answerFeedback.innerHTML = '<span class="text-green-600">âœ… ì •ë‹µì…ë‹ˆë‹¤!</span>';
                    heartContainer.innerHTML += 'â¤ï¸'; // ì •ë‹µì¼ ë•Œ í•˜íŠ¸ ì¶”ê°€
                } else {
                    selectedLabel.classList.add('incorrect-answer');
                    answerFeedback.innerHTML = `<span class="text-red-600">âŒ ì˜¤ë‹µì…ë‹ˆë‹¤.</span>`;
                    
                    // ì •ë‹µ í‘œì‹œ
                    const correctInput = document.querySelector(`input[name="question${currentQuestionIndex}"][value="${currentQuestion.answer}"]`);
                    if (correctInput) {
                        correctInput.nextElementSibling.classList.add('correct-answer');
                        correctInput.nextElementSibling.insertAdjacentHTML('beforeend', '<span class="text-sm font-bold text-slate-500 ml-2 correct-text">(ì •ë‹µ)</span>');
                    }
                }
            } else {
                answerFeedback.innerHTML = '<span class="text-orange-500">ì„ íƒí•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.</span>';
                // ì„ íƒí•˜ì§€ ì•Šì•˜ì„ ë•Œë„ ì •ë‹µ í‘œì‹œ
                const correctInput = document.querySelector(`input[name="question${currentQuestionIndex}"][value="${currentQuestion.answer}"]`);
                if (correctInput) {
                    correctInput.nextElementSibling.classList.add('correct-answer');
                    correctInput.nextElementSibling.insertAdjacentHTML('beforeend', '<span class="text-sm font-bold text-slate-500 ml-2 correct-text">(ì •ë‹µ)</span>');
                }
            }

            // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
            checkAnswerBtn.classList.add('hidden');
            if (currentQuestionIndex < quizData.length - 1) {
                nextQuestionBtn.classList.remove('hidden');
            } else {
                showResultsBtn.classList.remove('hidden');
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            loadQuestion();
        }

        function showFinalResults() {
            quizContainer.innerHTML = ''; // í€´ì¦ˆ ì»¨í…Œì´ë„ˆ ë¹„ìš°ê¸°
            answerFeedback.innerHTML = ''; // í”¼ë“œë°± ë©”ì‹œì§€ ë¹„ìš°ê¸°
            heartContainer.innerHTML = ''; // ìµœì¢… ê²°ê³¼ í‘œì‹œ ì‹œ í•˜íŠ¸ ì´ˆê¸°í™” (starContainer ëŒ€ì‹ )

            const totalQuestions = quizData.length;
            const incorrectAnswers = totalQuestions - score;
            const scorePercentage = Math.round((score / totalQuestions) * 100);

            let resultMessage = `<span class="text-sky-700">ì´ ${totalQuestions} ë¬¸ì œ ì¤‘:</span><br>`;
            resultMessage += `<span class="text-green-600">âœ… ì •ë‹µ: ${score}ê°œ</span><br>`;
            resultMessage += `<span class="text-red-600">âŒ ì˜¤ë‹µ: ${incorrectAnswers}ê°œ</span><br>`;
            resultMessage += `<span class="text-slate-700">ì ìˆ˜: ${scorePercentage}%</span><br><br>`;
            resultMessage += `<span class="text-sky-700 text-3xl font-extrabold">ëª¨ë‘ í’€ì—ˆìŠµë‹ˆë‹¤. ì„±ê³µ! ğŸ‰</span>`;
            
            resultsContainer.innerHTML = resultMessage;

            // ìµœì¢… ê²°ê³¼ í™”ë©´ì—ì„œëŠ” ë²„íŠ¼ ìˆ¨ê¸°ê³  'ë‹¤ì‹œ í’€ê¸°' ë²„íŠ¼ë§Œ ë³´ì´ë„ë¡
            checkAnswerBtn.classList.add('hidden');
            nextQuestionBtn.classList.add('hidden');
            showResultsBtn.classList.add('hidden');
            retryBtn.classList.remove('hidden');
        }

        function retryQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            heartContainer.innerHTML = ''; // í€´ì¦ˆ ë‹¤ì‹œ í’€ê¸° ì‹œ í•˜íŠ¸ ì´ˆê¸°í™” (starContainer ëŒ€ì‹ )
            loadQuestion();
        }
        
        checkAnswerBtn.addEventListener('click', checkAnswer);
        nextQuestionBtn.addEventListener('click', nextQuestion);
        showResultsBtn.addEventListener('click', showFinalResults);
        retryBtn.addEventListener('click', retryQuiz);

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ë²ˆì§¸ í€´ì¦ˆ ìƒì„±
        loadQuestion();
    </script>
</body>
</html>
